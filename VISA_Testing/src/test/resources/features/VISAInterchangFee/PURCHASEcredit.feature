@VISAFCIF

Feature: Interchage VISA Fee calculation


#TUPPLE_PURCHASE [Supermarkets,RetailStores,ServiceStation,charitable,]
    
    @FCValid_Scenerio_Fees_and_charge_POS_Transaction_purchase_credit 
     
     Scenario Outline: Interchange fee calculation for Purchase transactions with different Amount PosData and BusinessZoneCode
     
    Given Validation of scenario <TestCaseId> for tran type "00" and CardNumber <CardNumber>
    Given Initiate Purchase transaction with PosDataCode as "510101510300" CardNumber <CardNumber> cvv <cvv> TranType "00" mcc <MerchantCategoryCode> Networkid as "1" Amount <Amount> trackDataOne "TrackData1" trackDataTwo "TrackData2" PINdata "PINData" Securitydata "SecData" CurrencyCodeTransaction "356"
    When  Acquirer forwards the message to SmartEdge
    And   Message is processed by issuer and repsonse is sent back to the acquirer
    Then  Verify this acquirer's <TestCaseId> received "000" <BusinessZoneCode> <feeRuleID> and <feeAmount>
    
    Examples: 
    
    |TestCaseId                                     | CardNumber         |cvv              |MerchantCategoryCode |  Amount    |BusinessZoneCode |feeRuleID|feeAmount|

 #<<"123008">>

    |"FCIFSCV1TC24VISAPurcResp"                     |"2220160000000002"  |"0760"               | "5411"              | "20502"    |   "356001"     |  "2000" |  "441"  |
    |"FCIFSCV1TC25VISAPurcResp"                     |"2220160000000010"  |"0731"               | "9751"              | "99999"    |   "356001"     |  "2000" |  "2110" |
    |"FCIFSCV1TC26VISAPurcResp"                     |"2220160000000028"  |"0840"               | "9751"              | "22222"    |   "356001"     |  "2000" |  "477"  |
    |"FCIFSCV1TC27VISAPurcResp"                     |"2220160000000028"  |"0840"               | "5541"              | "50000"    |   "356001"     |  "2040" |  "110"  |
    |"FCIFSCV1TC28VISAPurcResp"                     |"2220160000000036"  |"0267"               | "5200"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC29VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5211"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC30VISAPurcResp"                     |"2220160000000010"  |"0731"               | "5231"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC31VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5251"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC32VISAPurcResp"                     |"2220160000000010"  |"0731"               | "5261"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC33VISAPurcResp"                     |"2220160000000002"  |"0760"               | "5271"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC34VISAPurcResp"                     |"2220160000000036"  |"0840"               | "5300"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC35VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5309"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC36VISAPurcResp"                     |"2220160000000002"  |"0760"               | "5310"              | "20502"    |   "356001"     |  "2005" |  "441"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220160000000002"  |"0760"               | "5422"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
    |"FCIFSCV1TC16VISAPurcResp"                     |"2220160000000036"  |"0267"               | "5441"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
    |"FCIFSCV1TC17VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5451"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
    |"FCIFSCV1TC18VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5462"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
    #|"FCIFSCV1TC19VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5499"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
    |"FCIFSCV1TC20VISAPurcResp"                     |"2220160000000044"  |"0975"               | "5999"              | "88886"   |   "356001"     |  "2015" |  "2143"  |
#
 #<<"123033">>

  
    |"FCIFSCV1TC1VISAPurcResp"                      |"2220170000000001"  |"0800"               |  "5411"              | "20502"   |   "356001"     |  "2001" |  "348"  |
    |"FCIFSCV1TC2VISAPurcResp"                      |"2220170000000019"  |"0494"               |  "9751"              | "99999"   |   "356001"     |  "2001" |  "1660"  |
    |"FCIFSCV1TC3VISAPurcResp"                      |"2220170000000027"  |"0099"               |  "5411"              | "99999"   |   "356001"     |  "2001" |  "1660"  |
    |"FCIFSCV1TC4VISAPurcResp"                      |"2220170000000035"  |"0303"               |  "5541"              | "25552"   |   "356001"     |  "2041" |  "110"  |
    |"FCIFSCV1TC5VISAPurcResp"                      |"2220170000000043"  |"0829"               |  "5200"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC6VISAPurcResp"                      |"2220170000000019"  |"0494"               |  "5211"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC7VISAPurcResp"                      |"2220170000000027"  |"0099"               |  "5231"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC8VISAPurcResp"                      |"2220170000000035"  |"0303"               |  "5251"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC9VISAPurcResp"                      |"2220170000000043"  |"0829"               |  "5261"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC10VISAPurcResp"                     |"2220170000000001"  |"0800"               |  "5271"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220170000000027"  |"0099"               |  "5300"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC12VISAPurcResp"                     |"2220170000000035"  |"0303"               |  "5309"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC13VISAPurcResp"                     |"2220170000000001"  |"0800"               |  "5310"              | "20502"   |   "356001"     |  "2006" |  "348"  |
    |"FCIFSCV1TC45VISAPurcResp"                     |"2220170000000027"  |"0099"               |  "8398"              | "20502"   |   "356001"     |  "2026" |  "282"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220170000000001"  |"0800"               |  "5422"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
    |"FCIFSCV1TC16VISAPurcResp"                     |"2220170000000043"  |"0829"               |  "5441"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
    |"FCIFSCV1TC17VISAPurcResp"                     |"2220170000000019"  |"0494"               |  "5451"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
    |"FCIFSCV1TC18VISAPurcResp"                     |"2220170000000019"  |"0494"               |  "5462"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
    #|"FCIFSCV1TC19VISAPurcResp"                     |"2220170000000019"  |"0494"               |  "5499"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
     |"FCIFSCV1TC20VISAPurcResp"                     |"2220170000000019"  |"0494"               |  "5999"              | "88886"   |   "356001"     |  "2016" |  "1276"  |
  #<<"123034">>

  
    |"FCIFSCV1TC1VISAPurcResp"                      |"2220180000000018"  |"0731"               |  "5411"              | "20502"   |   "356001"     |  "2002" |  "441"  |
    |"FCIFSCV1TC2VISAPurcResp"                      |"2220180000000026"  |"0798"               |  "9751"              | "99999"   |   "356001"     |  "2002" |  "2110"  |
    |"FCIFSCV1TC3VISAPurcResp"                      |"2220180000000026"  |"0798"               |  "5411"              | "99999"   |   "356001"     |  "2002" |  "2110"  |
    |"FCIFSCV1TC4VISAPurcResp"                      |"2220180000000018"  |"0731"               | "5541"              | "25552"   |   "356001"     |  "2042" |  "110"  |
    |"FCIFSCV1TC5VISAPurcResp"                      |"2220180000000059"  |"0713"               | "5200"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC6VISAPurcResp"                      |"2220180000000018"  |"0731"               |  "5211"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC7VISAPurcResp"                      |"2220180000000026"  |"0798"               | "5231"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC8VISAPurcResp"                      |"2220180000000026"  |"0798"               | "5251"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC9VISAPurcResp"                      |"2220180000000018"  |"0731"               | "5261"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC10VISAPurcResp"                     |"2220180000000018"  |"0731"               | "5271"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220180000000026"  |"0798"               | "5300"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC12VISAPurcResp"                     |"2220180000000018"  |"0731"               | "5309"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC13VISAPurcResp"                     |"2220180000000018"  |"0731"               | "5310"              | "20502"   |   "356001"     |  "2007" |  "441"  |
    |"FCIFSCV1TC45VISAPurcResp"                     |"2220180000000018"  |"0731"               | "8398"              | "20502"   |   "356001"     |  "2027" |  "282"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220180000000018"  |"0731"               | "5422"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
    |"FCIFSCV1TC16VISAPurcResp"                     |"2220180000000018"  |"0731"               | "5441"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
    |"FCIFSCV1TC17VISAPurcResp"                     |"2220180000000059"  |"0713"               | "5451"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
    |"FCIFSCV1TC18VISAPurcResp"                     |"2220180000000059"  |"0713"               | "5462"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
    #|"FCIFSCV1TC19VISAPurcResp"                     |"2220180000000059"  |"0713"               | "5499"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
    |"FCIFSCV1TC20VISAPurcResp"                     |"2220180000000059"  |"0713"               | "5999"              | "88886"   |   "356001"     |  "2017" |  "2143"  |
  
     #<<"123035">>

  
    |"FCIFSCV1TC1VISAPurcResp"                      |"2220190000000017"  |"0707"               | "5411"              | "20502"   |   "356001"     |  "2003" |  "241"  |
    |"FCIFSCV1TC2VISAPurcResp"                      |"2220190000000025"  |"0968"               | "9751"              | "99999"   |   "356001"     |  "2003" |  "1155"  |
    |"FCIFSCV1TC3VISAPurcResp"                      |"2220190000000025"  |"0968"               | "5411"              | "99999"   |   "356001"     |  "2003" |  "1155"  |
    |"FCIFSCV1TC4VISAPurcResp"                      |"2220190000000033"  |"0057"               | "5541"              | "25552"   |   "356001"     |  "2043" |  "110"  |
    |"FCIFSCV1TC5VISAPurcResp"                      |"2220190000000041"  |"0970"               | "5200"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC6VISAPurcResp"                      |"2220190000000058"  |"0552"               | "5211"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC7VISAPurcResp"                      |"2220190000000017"  |"0707"               | "5231"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC8VISAPurcResp"                      |"2220190000000041"  |"0970"               | "5251"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC9VISAPurcResp"                      |"2220190000000025"  |"0968"               | "5261"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC10VISAPurcResp"                     |"2220190000000041"  |"0970"               | "5271"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220190000000017"  |"0707"               | "5300"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC12VISAPurcResp"                     |"2220190000000033"  |"0057"               | "5309"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC13VISAPurcResp"                     |"2220190000000025"  |"0968"               | "5310"              | "20502"   |   "356001"     |  "2008" |  "303"  |
    |"FCIFSCV1TC14VISAPurcResp"                     |"2220190000000025"  |"0968"               | "8398"              | "20502"   |   "356001"     |  "2028" |  "282"  |
    |"FCIFSCV1TC15VISAPurcResp"                     |"2220190000000041"  |"0970"               | "5422"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
    |"FCIFSCV1TC16VISAPurcResp"                     |"2220190000000025"  |"0968"               | "5441"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
    |"FCIFSCV1TC17VISAPurcResp"                     |"2220190000000025"  |"0968"               | "5451"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
    |"FCIFSCV1TC18VISAPurcResp"                     |"2220190000000017"  |"0707"               | "5462"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
    #|"FCIFSCV1TC19VISAPurcResp"                     |"2220190000000041"  |"0970"               | "5499"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
    |"FCIFSCV1TC20VISAPurcResp"                     |"2220190000000041"  |"0970"               | "5999"              | "88886"   |   "356001"     |  "2018" |  "1276"  |
  
     #<<"123036">>

  
    |"FCIFSCV1TC1VISAPurcResp"                      |"2220200000000006"  |"0677"               | "5411"              | "20502"   |   "356001"     |  "2004" |  "241"  |
    |"FCIFSCV1TC2VISAPurcResp"                      |"2220200000000014"  |"0761"               |"9751"              | "99999"   |   "356001"     |  "2004" |  "1155"  |
    |"FCIFSCV1TC3VISAPurcResp"                      |"2220200000000022"  |"0643"               | "5411"              | "99999"   |   "356001"     |  "2004" |  "1155"  |
    |"FCIFSCV1TC4VISAPurcResp"                      |"2220200000000022"  |"0643"               | "5541"              | "25552"   |   "356001"     |  "2044" |  "110"  |
    |"FCIFSCV1TC5VISAPurcResp"                      |"2220200000000030"  |"0578"               | "5200"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC6VISAPurcResp"                      |"2220200000000048"  |"0910"               | "5211"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC7VISAPurcResp"                      |"2220200000000014"  |"0761"               | "5231"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC8VISAPurcResp"                      |"2220200000000030"  |"0578"               | "5251"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC9VISAPurcResp"                      |"2220200000000006"  |"0677"               | "5261"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC10VISAPurcResp"                     |"2220200000000014"  |"0761"               | "5271"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220200000000006"  |"0677"               | "5300"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC12VISAPurcResp"                     |"2220200000000030"  |"0578"               | "5309"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC13VISAPurcResp"                     |"2220200000000014"  |"0643"               | "5310"              | "20502"   |   "356001"     |  "2009" |  "303"  |
    |"FCIFSCV1TC11VISAPurcResp"                     |"2220200000000014"  |"0643"               | "5422"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    |"FCIFSCV1TC16VISAPurcResp"                     |"2220200000000006"  |"0677"               | "5441"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    |"FCIFSCV1TC17VISAPurcResp"                     |"2220200000000022"  |"0643"               | "5451"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    |"FCIFSCV1TC18VISAPurcResp"                     |"2220200000000006"  |"0677"               | "5462"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    #|"FCIFSCV1TC19VISAPurcResp"                     |"2220200000000014"  |"0761"               | "5499"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    |"FCIFSCV1TC20VISAPurcResp"                     |"2220200000000022"  |"0643"               | "5999"              | "88886"   |   "356001"     |  "2019" |  "1276"  |
    
   
  
     

    
    

    
    

    
    
     

    
      